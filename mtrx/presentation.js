

var slides = [
    // ------------ Intro
    
    '<img src="slides/intro-0.png" class="img_fullscreen"/>',
    '<img src="slides/intro-1.png" class="img_fullscreen"/>',
    '<img src="slides/intro-2.png" class="img_fullscreen"/>',
    '<img src="slides/intro-3.png" class="img_fullscreen"/>',
    '<img src="slides/intro-4.png" class="img_fullscreen"/>',
    '<img src="slides/intro-5.png" class="img_fullscreen"/>',
    '<img src="slides/intro-6.png" class="img_fullscreen"/>',
    '<img src="slides/intro-7.png" class="img_fullscreen"/>',
    '<img src="slides/intro-8.png" class="img_fullscreen"/>',
    '<img src="slides/intro-9.png" class="img_fullscreen"/>',
    '<iframe class="diagram" title="D1" src="diagram.html?script=promo.js"></iframe>',
    
    // ------------ Basic

    '<iframe class="diagram" title="D1" src="diagram.html?script=world.js"></iframe>',
    '<iframe class="diagram" title="D1" src="diagram.html?script=vector-point.js"></iframe>',
    '<img src="slides/homogeneous.png" class="img_sheet"/>',
    '<iframe class="diagram" title="D1" src="diagram.html?script=vector-homo.js"></iframe>',
    '<img src="slides/anatomy.png" class="img_sheet"/>',
    '<h1>show matrix</h1>', // Diagram
    '<h1>matrix2d</h1>', // Diagram
    '<iframe class="diagram" title="D1" src="diagram.html?script=matrix.js"></iframe>',

    // ------------ Multiplication

    '<img src="slides/multiplication.png" class="img_sheet"/>',
    '<img src="slides/mult_0.png" class="img_mult"/>',
    '<img src="slides/mult_1.png" class="img_mult"/>',
    '<img src="slides/mult_2.png" class="img_mult"/>',
    '<img src="slides/mult_3.png" class="img_mult"/>',
    '<img src="slides/mult_4.png" class="img_mult"/>',
    '<img src="slides/mult_5.png" class="img_mult"/>',

    '<img src="slides/sheet_1.png" class="img_sheet"/>',
    '<img src="slides/sheet_2.png" class="img_sheet"/>',
    '<img src="slides/sheet_3.png" class="img_sheet"/>',
    '<img src="slides/sheet_4.png" class="img_sheet"/>',
    '<img src="slides/sheet_5.png" class="img_sheet"/>',
    '<img src="slides/sheet_6.png" class="img_sheet"/>',
    '<img src="slides/sheet_7.png" class="img_sheet"/>',
    '<img src="slides/sheet_8.png" class="img_sheet"/>',
    '<img src="slides/sheet_9.png" class="img_sheet"/>',
    '<img src="slides/sheet_10.png" class="img_sheet"/>',
    '<img src="slides/sheet_11.png" class="img_sheet"/>',
    '<img src="slides/sheet_12.png" class="img_sheet"/>',
    '<img src="slides/sheet_13.png" class="img_sheet"/>',
    '<img src="slides/sheet_14.png" class="img_sheet"/>',
    '<img src="slides/sheet_15.png" class="img_sheet"/>',
    '<img src="slides/sheet_16.png" class="img_sheet"/>',
    '<img src="slides/sheet_17.png" class="img_sheet"/>',
    '<img src="slides/sheet_18.png" class="img_sheet"/>',
    '<img src="slides/sheet_19.png" class="img_sheet"/>',
    
    '<iframe class="diagram" title="D1" src="diagram.html?script=point_mult.js"></iframe>', // 2d
    '<iframe class="diagram" title="D1" src="diagram.html?script=point_mult.js"></iframe>', // 3d

    '<img src="slides/sheet_20.png" class="img_sheet"/>',

    '<iframe class="diagram" title="D1" src="diagram.html?script=direction_mult.js"></iframe>',

    '<img src="slides/sheet_21.png" class="img_sheet"/>',
    '<img src="slides/sheet_22.png" class="img_sheet"/>',
    '<img src="slides/sheet_23.png" class="img_sheet"/>',

    '<iframe class="diagram" title="D1" src="diagram.html?script=matrix_mult.js"></iframe>',

     // ------------ Perspective
    '<img src="slides/perspective.png" class="img_sheet"/>',
    '<h1>show perspective matrix</h1>', // Diagram
    '<img src="slides/sheet_24.png" class="img_sheet"/>',
    '<img src="slides/sheet_25.png" class="img_sheet"/>',
    '<img src="slides/perspective2.png" class="img_sheet"/>',

    '<img src="slides/associative-0.png" class="img_sheet"/>',
    '<img src="slides/associative-1.png" class="img_sheet"/>',
    '<img src="slides/associative-2.png" class="img_sheet"/>',
    '<img src="slides/associative-3.png" class="img_sheet"/>',
    '<img src="slides/associative-4.png" class="img_sheet"/>',
    '<img src="slides/associative-5.png" class="img_sheet"/>',
    

    '<img src="slides/next.png" class="img_sheet"/>',
    
    // ------------ Conventions
    '<img src="slides/conventions-0.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-1.png" class="img_fullscreen"/>',

    '<img src="slides/freya.webp"/>',
    '<iframe class="diagram" title="D1" src="diagram.html?script=model.js"></iframe>',
    '<iframe class="diagram" title="D1" src="reality.html"></iframe>',

    '<img src="slides/conventions-2.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-3.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-4.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-5.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-6.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-7.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-8.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-9.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-10.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-11.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-12.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-13.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-14.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-15.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-16.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-17.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-18.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-19.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-20.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-21.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-22.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-23.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-24.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-25.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-26.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-27.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-28.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-29.png" class="img_fullscreen"/>',
    '<img src="slides/conventions-30.png" class="img_fullscreen"/>'
];

var currentSlide = 0;

var projector = document.getElementById("projector");
var slider = document.getElementById("slider");
slider.max = slides.length - 1;

var counter = document.getElementById("counter");

var refresh_button = document.getElementById("refresh_button");

document.addEventListener("wheel", (e) => { onMouseWheel(e)});
slider.addEventListener("change", () => { onSliderChange()});
refresh_button.addEventListener("mousedown", () => { onSliderChange()});

function onMouseWheel(e)
{
    var delta = e.deltaY > 0 ? 1 : -1;
    slider.value = Number(slider.value) + delta;
    onSliderChange();
}

function onSliderChange()
{
    var html = slides[slider.value];

    var startIndex = html.indexOf('?');
    if ( startIndex >= 0 )
    {
        var endIndex = html.indexOf('"', startIndex);

        var params = html.substring(startIndex, endIndex);
        params = overwriteConventionParameters(params);
        html = html.substring(0, startIndex) + params + html.substring(endIndex);
    }
    
    projector.innerHTML = html;

    var index = Number(slider.value) + 1;
    counter.innerText = index + " of " + slides.length;
} 

onSliderChange();